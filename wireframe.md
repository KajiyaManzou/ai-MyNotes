# ai-MyNotes ワイヤーフレーム

## 1. メモ編集画面（/ または /edit/{id}）

```
┌─────────────────────────────────────────┐
│ ai-MyNotes                              │ ← ヘッダー
├─────────────────────────────────────────┤
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ │  メモ本文テキストエリア             │ │ ← メモ本文エリア（拡張可能）
│ │  [1行目がタイトルになります]        │ │   ※1行目が自動的にタイトル扱い：フォント大、太字
│ │                                     │ │
│ │  詳細な内容をここに入力...          │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
│                                         │
│                                         │
│ 保存中... ○                            │ ← 保存状態インジケーター
│                                         │
├─────────────────────────────────────────┤
│ [📝 メモ一覧]                          │ ← 遷移ボタン（最下部左）
└─────────────────────────────────────────┘
```

**機能**
- タイトル入力フィールドなし
- 本文の1行目を自動的にタイトルとして抽出
- リアルタイム保存（3秒停止自動保存・フォーカス離脱即座保存）
- 新規作成時：空のテキストエリア表示
- 編集時：選択メモの本文を表示

**データ保存処理**
1. 本文から改行までの1行目を抽出してtitleに設定
2. 本文全体をcontentに保存
3. 1行目が100文字を超える場合は100文字でトリミング
4. フォーカス離脱時の保存は入力停止タイマーより優先

**表示例**
```
入力内容：
買い物リスト
牛乳、卵、パン、野菜を買う
明日の朝食用に準備する

↓ 自動保存時

title: "買い物リスト"
content: "買い物リスト\n牛乳、卵、パン、野菜を買う\n明日の朝食用に準備する"
```

---

## 2. メモ一覧画面（/list）

```
┌─────────────────────────────────────────┐
│ メモ一覧                                │ ← ヘッダー
├─────────────────────────────────────────┤
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 📝 買い物リスト              2024/01/15│ │ ← メモカード1（最新）
│ │ 牛乳、卵、パン、野菜を買う           │ │   本文1行目がタイトル（太字）
│ │ 明日の朝食用に...                   │ │   本文2行目以降がプレビュー（2行）
│ └─────────────────────────────────────┘ │   作成日時
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 📝 会議メモ                  2024/01/14│ │ ← メモカード2
│ │ プロジェクトの進捗確認               │ │
│ │ - 開発スケジュール見直し             │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 📝 読書ノート                2024/01/13│ │ ← メモカード3
│ │ 「○○」を読んで学んだこと           │ │
│ │ 印象的だったポイント...             │ │
│ └─────────────────────────────────────┘ │
│                                         │
│                    ⋮                    │ ← 他のメモカード
│                                         │
├─────────────────────────────────────────┤
│ [✏️ 新規作成] [🗂️ 編集モード]           │ ← 操作ボタン（最下部左）
└─────────────────────────────────────────┘
```

**機能**
- 作成日時降順ソート表示
- メモカードタップで編集画面遷移
- 空の場合：「メモがありません」表示
- スクロール対応
- タイトル：本文1行目を表示
- プレビュー：本文2行目以降を2行まで表示

---

## 3. メモ一覧編集画面（/list-edit）

```
┌─────────────────────────────────────────┐
│ メモ編集                                │ ← ヘッダー
├─────────────────────────────────────────┤
│                                         │
│ ┌───┬─────────────────────────────────┐ │
│ │[×]│ 📝 買い物リスト            2024/01/15│ │ ← 削除ボタン付きカード1
│ │   │ 牛乳、卵、パン、野菜を買う         │ │
│ │   │ 明日の朝食用に...                 │ │
│ └───┴─────────────────────────────────┘ │
│                                         │
│ ┌───┬─────────────────────────────────┐ │
│ │[×]│ 📝 会議メモ                2024/01/14│ │ ← 削除ボタン付きカード2
│ │   │ プロジェクトの進捗確認             │ │
│ │   │ - 開発スケジュール見直し           │ │
│ └───┴─────────────────────────────────┘ │
│                                         │
│ ┌───┬─────────────────────────────────┐ │
│ │[×]│ 📝 読書ノート              2024/01/13│ │ ← 削除ボタン付きカード3
│ │   │ 「○○」を読んで学んだこと         │ │
│ │   │ 印象的だったポイント...           │ │
│ └───┴─────────────────────────────────┘ │
│                                         │
│                    ⋮                    │
│                                         │
├─────────────────────────────────────────┤
│ [← 戻る]                                │ ← 戻るボタン（最下部左）
└─────────────────────────────────────────┘
```

**機能**
- 各メモカード左端に削除ボタン[×]
- 削除ボタンタップで確認ダイアログ表示
- 確認後に物理削除実行
- 戻るボタンでメモ一覧画面に遷移

---

## 削除確認ダイアログ

```
┌─────────────────────────────────────────┐
│                                         │
│             ⚠️  確認                     │
│                                         │
│        このメモを削除しますか？          │
│                                         │
│          「買い物リスト」               │
│                                         │
│    ┌─────────┐  ┌─────────┐        │
│    │キャンセル │  │   削除   │        │
│    └─────────┘  └─────────┘        │
│                                         │
└─────────────────────────────────────────┘
```

---

## 画面遷移フロー

```
メモ編集画面 ←─────────────→ メモ一覧画面
     ↑                           ↓
     │                      メモ一覧編集画面
     │                           ↓
     └─────── タップで編集 ←──────┘
```

**遷移パターン**
1. 起動 → メモ編集画面（新規）
2. メモ編集 → メモ一覧（一覧ボタン）
3. メモ一覧 → メモ編集（カードタップ）
4. メモ一覧 → メモ一覧編集（編集モードボタン）
5. メモ一覧編集 → メモ一覧（戻るボタン）
6. メモ一覧 → メモ編集（新規作成ボタン）

---

## 技術仕様

### レスポンシブデザイン
- iOS Chrome環境での最適表示
- モバイルファーストデザイン
- タッチ操作に適したボタンサイズ

### 操作性
- ボタン配置：最下部左
- スワイプ操作：なし（削除ボタンで代替）
- 直感的なナビゲーション

### データ連携
- 本文1行目の自動タイトル抽出
- リアルタイム保存による安全性
- IndexedDBでの永続化